
@import "bower_components/lesshat/build/lesshat.less";

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  height: 100%;
}

body {
  height: 100%;
  .background-image(
    radial-gradient(circle at center, #b10606 0, fade(#c30606,.9) 60%),
    repeating-linear-gradient(to bottom, #000 0, #400000 .4%, #000 .8%)
  );
}

.showcase {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: 250px;
  height: 250px;
}

.mushroom {
  @red:                   #e72c21;
  @red-dark:              #7f2c1e;
  @yellow:                #f3d892;

  @size:                  250px;                            // 图像总体大小

  display: block;
  width: 100%;

  > .head {
    @head-width:            @size;                          // 头部宽度
    @head-height:           204px;                          // 头部高度
    @head-tyr:              130px;                          // 垂直圆角上半径
    @head-byr:              70px;                           // 垂直圆角下半径
    @head-txr:              @head-width/2;                  // 水平圆角上半径
    @head-bxr:              64px;                           // 水平圆角下半径

    @head-shadow-bh:        90px;                           // 底部阴影高度
    @head-shadow-bhp:       percentage(@head-shadow-bh/@head-height);

    display: block;
    position: relative;
    margin: 0 auto;
    width: 100%;
    padding-top: percentage(@head-height / @size);
    @tyrp: percentage(@head-tyr/@head-height);
    @byrp: percentage(@head-byr/@head-height);
    @txrp: 50%;
    @bxrp: percentage(@head-bxr/@head-width);
    .border-radius(@txrp @txrp @bxrp @bxrp ~'/' @tyrp @tyrp @byrp @byrp);
    .background-image(
      radial-gradient(circle at 50% 120%, rgba(0,0,0,0.7) 23%, rgba(0,0,0,0) @head-shadow-bhp),
      linear-gradient(30deg, rgba(33,33,33,.4) 8%, rgba(33,33,33,0) 14%),
      radial-gradient(circle at 50% 36%, #fff 32%, rgba(255,255,255,0) 32%),
      radial-gradient(circle at -13% 58%, #f8f8f8 20%, rgba(255,255,255,0) 20%),
      radial-gradient(circle at 113% 58%, #f8f8f8 20%, rgba(255,255,255,0) 20%),
      linear-gradient(to bottom, @red 0, @red-dark 100%)
    );
  }

  > .body {
    @body-offset:           40px;                           // 向上偏移
    @body-width:            154px;                          // 身体宽度
    @body-height:           86px;                           // 身体高度
    @body-tyr:              30px;                           // 垂直圆角上半径
    @body-byr:              47px;                           // 垂直圆角下半径
    @body-txr:              @body-width/2;                  // 水平圆角上半径
    @body-bxr:              65px;                           // 水平圆角下半径

    display: block;
    position: relative;
    margin: 0 auto;
    margin-top: percentage(40px/@size) * -1;
    width: percentage(@body-width / @size);
    padding-top: percentage(@body-height / @size);

    @tyrp: percentage(@body-tyr/@body-height);
    @byrp: percentage(@body-byr/@body-height);
    @txrp: 50%;
    @bxrp: percentage(@body-bxr/@body-width);
    .border-radius(@txrp @txrp @bxrp @bxrp ~'/' @tyrp @tyrp @byrp @byrp);
    .background-image(linear-gradient(to bottom, @yellow, @yellow));
    .box-shadow(
      inset 0 15px 10px rgba(0,0,0,0.25),
      inset -12px -5px 10px rgba(0,0,0,0.2),
      inset 5px -2px 10px rgba(0,0,0,0.2)
    );

    &:before,
    &:after {
      display: block;
      position: absolute;
      top: percentage(13px/@body-height);
      padding-top: percentage(43px/@body-width);
      .border-radius(40%);
      width: percentage(13px/@body-width);
      .background-image(
        radial-gradient(80% 60% ellipse at center 20%, #fff 15%, rgba(142,122,102,.8) 35%, rgba(142,122,102,.8) 50%, rgba(62,41,26,0) 100%),
        linear-gradient(to bottom, #000 0, #000 100%)
      );
      content: '';
    }

    &:after {
      right: percentage(45px/@body-width);
    }

    &:before {
      left: percentage(45px/@body-width);
    }
  }
}